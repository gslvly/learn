#### 浏览器工作流程
1. 浏览器首先使用HTTP协议或者HTTPS协议，向服务端请求页面；
2. 把请求回来的HTML代码经过解析，使用状态机，栈，构建成DOM树；
3. cssom rule 部分构建.
3. 计算DOM树上的CSS属性（匹配css rule）生成渲染树；
4. 最后根据CSS属性对元素逐个进行渲染，得到内存中的位图；
5. 一个可选的步骤是对位图进行合成，这会极大地增加后续绘制的速度；
6. 合成之后，再绘制到界面上。


为了优化性能,计算机使用"脏矩阵"把屏幕均匀的分成若干矩形区域.重新绘制脏矩形区域时，把所有与矩形区域有交集的合成层（位图）的交集部分绘制即可。
#### cssom
`css object mode`
cssom 分为rule 部分和view 部分，rule部分是dom开始之签构建完成，而view部分是跟着dom同步建立的,最终形成渲染树.
##### css rule
```
.a .b .c{
  color:red;
}

```
css rule:
```
root={
  .c:{
    .b: {
      .a
    }
  }
}
```
以此从右往左生成rule树,由于相比从右往左匹配自动裁枝多余节点,会快不少.

